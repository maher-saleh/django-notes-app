{% extends 'base.html' %}


{% block content %}
<div class="border rounded">
    <h1 class="my-5">{{ note.title }} {% if note.is_public %}<span class="badge bg-secondary">Public</span>{% endif %}
    </h1>
    <p>{{ note.text }}</p>
</div>

<p>{{ note.likes }} Likes</p>
<form class="d-inline" action="{% url 'notes.like' pk=note.id %}" method="POST">
    {% csrf_token %}

    {{ form.as_p }}
    <button type="submit" class="btn btn-secondary my-5" href="{% url 'notes.like' pk=note.id %}">Upvote</button>
</form>
<form class="d-inline" action="{% url 'notes.change_visibility' pk=note.id %}" method="POST">
    {% csrf_token %}

    {{ form.as_p }}
    <button type="submit" class="btn btn-secondary my-5" href="{% url 'notes.change_visibility' pk=note.id %}">
        {% if note.is_public %}
        Make it private
        {% else %}
        Make it public
        {% endif %}
    </button>
</form>
<a class="btn btn-secondary my-5" href="{% url 'notes.list' %}">Back</a>
<a class="btn btn-secondary my-5" href="{% url 'notes.update' pk=note.id %}">Edit</a>
<a class="btn btn-danger my-5" href="{% url 'notes.delete' pk=note.id %}">Delete</a>
{% endblock %}